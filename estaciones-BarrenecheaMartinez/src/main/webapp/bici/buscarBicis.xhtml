<ui:composition template="/WEB-INF/template/template.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">
   
   	<ui:define name="title">
        BuscarBici
    </ui:define>
    
    <ui:param name="estilo2" value="current" />
    
	<ui:define name="content">
		<h:form>		
			<p:outputLabel for="inputLongitud" value="#{text['longitud']}" />
			<p:inputNumber id="inputLongitud" value="#{buscarBiciWeb.longitud}" required="true" decimalPlaces="6" minValue="-180" maxValue="180"/>
			<h:message for="inputLongitud" style="color:red" />
			
			<p:outputLabel for="inputLatitud" value="#{text['latitud']}" />
			<p:inputNumber id="inputLatitud" value="#{buscarBiciWeb.latitud}" required="true" decimalPlaces="6" minValue="-90" maxValue="90" />
			<h:message for="inputLatitud" style="color:red" />
			
			<h:commandButton value="#{text['buscar_bicis']}" action="#{buscarBiciWeb.buscar()}"/>
		</h:form>
		
		<h:form>
			<p:dataTable value="#{buscarBiciWeb.bicis}" var="bici" rowKey="#{bici.codigo}">
				<!-- Aquí defines cómo se mostrarán los objetos en la tabla -->
				
				<p:column style="width:10rem">
	               <p:commandButton rendered="#{bici.incidencia == null}" value="Crear incidencia"
                                 icon="pi pi-plus-circle" title="View" action="#{buscarBiciWeb.gotoCrearIncidencia(bici.codigo)}">
                	</p:commandButton>
	           </p:column>
				<p:column>
					<f:facet name="header">
                        <h:outputText value="#{text['bici_codigo']}" />
                    </f:facet>
					#{bici.codigo}
				</p:column>
				<p:column>
					<f:facet name="header">
                        <h:outputText value="#{text['bici_fecha_alta']}" />
                    </f:facet>
					#{bici.fechaAlta}
				</p:column>
				<p:column>
					<f:facet name="header">
                        <h:outputText value="#{text['bici_modelo']}" />
                    </f:facet>
					#{bici.modelo}
				</p:column>
				<p:column>
					<f:facet name="header">
                        <h:outputText value="#{text['bici_fecha_baja']}" />
                    </f:facet>
					#{bici.fechaBaja}
				</p:column>
				<p:column>
					<f:facet name="header">
                        <h:outputText value="#{text['bici_motivo_baja']}" />
                    </f:facet>
					#{bici.motivoBaja}
				</p:column>
				<p:column>
					<f:facet name="header">
                        <h:outputText value="#{text['bici_disponible']}" />
                    </f:facet>
					#{bici.disponible ? text['si'] : text['no']}
				</p:column>
				<!-- Puedes agregar más columnas según los atributos de tus objetos -->
			</p:dataTable>
		</h:form>
    </ui:define>
</ui:composition>
